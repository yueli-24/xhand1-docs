#!/usr/bin/env python3
# -*- coding: utf-8 -*-

# 读取docs.ts文件
with open('client/src/lib/docs.ts', 'r', encoding='utf-8') as f:
    content = f.read()

# 新的产品概述内容
new_overview = '''# 产品概述

**XHAND1** 是星动纪元自研的全直驱仿人五指灵巧手，代表了当前机器人灵巧操作领域的前沿技术水平。

## 产品定位

XHAND1 重新定义了仿人五指灵巧手的行业标准，具备**12个主动自由度**，其中拇指和食指各有3个自由度，其余三指各有2个自由度。特别支持食指的侧摆动作，能够模拟和复现人手的复杂动作。

## 核心亮点

XHAND1 采用创新的**全直驱（Fully-actuated）设计理念**，每个手指关节通过齿轮和电机驱动，实现每个关节的独立运动控制。相比传统的欠驱（Under-actuated）方案，XHAND1 能够完成更加复杂和精细的操作任务。

### 高自由度设计

具有12个主动自由度(DoF)，其中拇指和食指各有3个自由度，其他三指各有2个自由度。支持食指侧摆、拇指具有大范围活动能力，可实现人手的多种高精度抓取操作。

### 高分辨率触觉传感（可选）

每个手指可配备一个270度环绕指尖的高分辨率触觉传感器（超过100点），提供精确的三维力触觉和温度信息。在传统的压力触觉之外可以感知切向力，高空间分辨率能精确感知物体边缘、形状和硬度。

### 强大的抓握力

**单手最大抓握力可达80N**，最大负载（掌心向上）可达25kg，使其能够胜任从精细化操作到重物搬运的多样化任务。

### 高智能性

搭配机械臂与机器人通过强化学习、模仿学习全链路验证，支持多种控制模式和算法开发。

## 软件支持

XHAND1 提供完整的软件生态系统：

1. **开发工具包(SDK)**：提供标准的Linux系统SDK和ROS兼容应用，便于算法开发
2. **远程遥操作**：提供VisionPro远程操作支持，兼容手套和视觉映射，便于客户操作测试和训练数据收集
3. **上位机评估应用**：配备标准的上位机评估应用程序，支持客户调试和嵌入式系统研发

## 应用场景

XHAND1 广泛应用于人形机器人、工业自动化、科研教学、医疗康复、服务机器人等领域，是实现机器人灵巧操作的理想选择。'''

# 新的技术规格内容
new_specs = '''# 技术规格

## 基本参数

| 参数 | 数值 |
|------|------|
| **产品型号** | 2L32 (左手) / 2R32 (右手) |
| **主动自由度** | 12 DoF |
| **重量** | 1.1 kg |
| **尺寸** | 190.36 × 94 × 47 mm |
| **额定握力** | 12N (单指) / 24N (整手) |
| **最大抓握力** | 80 N |
| **额定负载** | 1.2kg (单指) / 4.8kg (整手) |
| **最大负载** | 25 kg (掌心向上) |
| **食指侧摆角度** | -5° ~ 17° |
| **拇指活动角度** | < 110° |

## 触觉传感参数（可选配置）

| 参数 | 数值 |
|------|------|
| **传感器数量** | 5个（每个手指1个） |
| **传感点数** | >100点/传感器 |
| **覆盖角度** | 270度环绕指尖 |
| **感知能力** | 三维力触觉、温度、切向力 |
| **空间分辨率** | 高分辨率（可感知物体边缘和形状） |

## 关节运动范围

各关节的详细运动范围如下表所示：

| 关节编号 | 关节名称 | 最小角度 | 最大角度 | 备注 |
|---------|---------|---------|---------|------|
| Joint 0 | 食指侧摆 | -5° | 17° | 食指根部侧向运动 |
| Joint 1 | 食指近端 | 0° | 90° | 食指第一关节 |
| Joint 2 | 食指中端 | 0° | 90° | 食指第二关节 |
| Joint 3 | 食指远端 | 0° | 90° | 食指第三关节 |
| Joint 4 | 中指近端 | 0° | 90° | 中指第一关节 |
| Joint 5 | 中指远端 | 0° | 90° | 中指第二关节 |
| Joint 6 | 无名指近端 | 0° | 90° | 无名指第一关节 |
| Joint 7 | 无名指远端 | 0° | 90° | 无名指第二关节 |
| Joint 8 | 小指近端 | 0° | 90° | 小指第一关节 |
| Joint 9 | 小指远端 | 0° | 90° | 小指第二关节 |
| Joint 10 | 拇指旋转 | 0° | 110° | 拇指根部旋转 |
| Joint 11 | 拇指弯曲 | 0° | 90° | 拇指弯曲关节 |

## 电气接口

灵巧手留有一个接口，使用 **DF62B-13EP-2.2C** 连接器，引脚定义如下：

| 引脚编号 | 功能 | 说明 |
|---------|------|------|
| 1-5 | EtherCAT | EtherCAT通信接口 |
| 6 | POWER | 电源正极 |
| 7, 10 | GND | 电源地 |
| 8, 9 | RS485 | RS485通信接口 |

## 通信协议

### 通信方式

- **支持协议**：RS485 和 EtherCAT
- **实时通信速率**：83Hz
- **EtherCAT周期**：1ms（整手12个关节，总共需要12ms）

### 通信特性

**RS485通信**：
- 包括控制指令、下行数据包和上行数据包
- 适用于非实时控制场景

**EtherCAT通信**：
- 使用PDO（Process Data Object）通讯方式
- 每个PDO数据通讯中下行数据包括1个关节的控制数据
- 上行数据包括1个关节的状态数据和1个指尖传感器的数据
- 支持实时控制，延迟低

### ID制定

- **整手ID**：默认为0
- **通信板ID**：将整手ID的最高位值1作为通信板ID（即：整手ID | 0x80）
- **上位机ID**：固定值0xFE

## 机械连接

灵巧手腕部接口通过**8个M3螺钉**周向固定连接。将灵巧手安装至安装座后，线束可从侧面引出。

## 工作环境

| 参数 | 数值 |
|------|------|
| **工作温度** | 0°C ~ 45°C |
| **存储温度** | -20°C ~ 60°C |
| **工作湿度** | 20% ~ 80% RH（无凝露） |
| **防护等级** | IP20 |'''

# 替换产品概述
import re
overview_pattern = r'(id: "overview",\s+title: "产品概述",\s+path: "/docs/about/overview",\s+content: `)([^`]+)(`)'
content = re.sub(overview_pattern, r'\1' + new_overview + r'\3', content, flags=re.DOTALL)

# 替换技术规格
specs_pattern = r'(id: "specs",\s+title: "技术规格",\s+path: "/docs/about/specs",\s+content: `)([^`]+)(`)'
content = re.sub(specs_pattern, r'\1' + new_specs + r'\3', content, flags=re.DOTALL)

# 写回文件
with open('client/src/lib/docs.ts', 'w', encoding='utf-8') as f:
    f.write(content)

print("产品概述和技术规格更新完成！")
